\documentclass[a4paper,12pt]{book} % Book format with A4 page size and 12pt font

% Set up margins for a book layout
\usepackage[a4paper, inner=1.5in, outer=1in, top=1in, bottom=1in]{geometry}

% Improve paragraph spacing
\usepackage{parskip} % Adds vertical space between paragraphs instead of indentation

% Encoding and language
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}

% Typography
\usepackage{lmodern}  % Modern font
\usepackage{microtype}  % Better spacing and readability

% Math and symbols
\usepackage{amsmath, amssymb, amsthm}  % Math packages
\usepackage{mathtools}  % Extended math tools

% Customizing section and chapter headings
\usepackage{titlesec}
\titleformat{\chapter}[display]
  {\Huge\bfseries}  % Large bold chapter titles
  {\chaptername\ \thechapter}{20pt}{\Huge}
\titleformat{\section}
  {\Large\bfseries}{\thesection}{1em}{}

% Table of contents formatting
\usepackage{tocloft}
\setlength{\cftbeforechapskip}{10pt}  % More spacing before chapters

% Figures and tables
\usepackage{graphicx}  % Image support
\usepackage{booktabs}  % Professional tables
\usepackage{caption}  % Better captions
\usepackage{subcaption}  % Subfigures

\usepackage{parskip}
\usepackage{setspace}
\onehalfspacing

% Headers and footers for books
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\thepage} % Page numbers: left on even pages, right on odd pages
\fancyhead[RE]{\leftmark}  % Section title on right pages
\fancyhead[LO]{\rightmark} % Chapter title on left pages
\renewcommand{\headrulewidth}{0.4pt} % Thin header rule
\renewcommand{\footrulewidth}{0pt}   % No footer rule

% Hyphenation settings
\hyphenpenalty=1000
\tolerance=2000
\emergencystretch=10pt

% (Optional) Hyperlinks and TOC formatting
\usepackage[colorlinks=true, linkcolor=blue, citecolor=blue, urlcolor=blue]{hyperref}
\usepackage{tocloft} % Customizable table of contents
\renewcommand{\cftchapfont}{\Large\bfseries} % Larger TOC chapter entries
\renewcommand{\cftsecfont}{\large} % Larger TOC section entries

% Theorem environments
\theoremstyle{definition}
\newtheorem{definition}{Definition}[chapter]
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}{Lemma}[chapter]
\newtheorem{proposition}{Proposition}[chapter]

% Code listings
\usepackage{minted}

% Set minted settings (e.g., monospace font, line breaks, and style)
\usemintedstyle{tango}  % Choose a style (tango is a popular one)
\setminted{
  frame=single,         % Single frame around the code block
  baselinestretch=1.2,  % Adjust line spacing
  fontsize=\small,      % Smaller font size
  linenos=true,         % Show line numbers
  breaklines=true,      % Break lines if necessary
  showspaces=false,     % Don't highlight spaces
}


% Redefine the quote environment using tcolorbox
\usepackage{tcolorbox}
\renewenvironment{quote}
{\begin{tcolorbox}[colback=gray!10, colframe=black, sharp corners=south, left=5pt, right=5pt, top=5pt, bottom=5pt]}
{\end{tcolorbox}}

% Custom macro for chapter headings with images
\usepackage{tikz}
\usepackage{tikzpagenodes}
\usepackage{adjustbox}

\newcommand{\chapterwithimage}[2]{ % #1 = Chapter Title, #2 = Image Path
    \chapter{#1}
    \vspace{-1cm}
        \begin{center}
            \tcbox{\includegraphics[height=2cm]{#2}}
\end{center}
}

% Document title
\title{}
\title{\Huge\bfseries Game Theory: Algorithms and Mechanisms for Emergent Behaviour}
\author{Vincent Knight}
\date{\today}

\begin{document}
\maketitle

\tableofcontents
\include{chapters/introduction/main}
\include{chapters/normal_form_games/main}
\include{chapters/strategies/main}

\bibliographystyle{plain}
\bibliography{references}
\end{document}
